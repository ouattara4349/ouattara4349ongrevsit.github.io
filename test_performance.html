<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Performance - ONG Renaissance</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-card {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .performance-meter {
            width: 100%;
            height: 30px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            margin: 10px 0;
        }
        .performance-bar {
            height: 100%;
            background: linear-gradient(90deg, #ff4444, #ffaa00, #44ff44);
            transition: width 1s ease;
        }
        .btn {
            background: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .btn:hover {
            background: #0056b3;
        }
        .result {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-weight: bold;
        }
        .good { background: #d4edda; color: #155724; }
        .warning { background: #fff3cd; color: #856404; }
        .bad { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <h1>üß™ Test de Performance - ONG Renaissance</h1>
    
    <div class="test-card">
        <h2>üìä Test de Chargement des Images</h2>
        <p>Ce test mesure le temps de chargement de vos images les plus lourdes :</p>
        
        <div id="image-test">
            <button class="btn" onclick="testImageLoading()">Tester le Chargement des Images</button>
            <div id="image-results"></div>
        </div>
    </div>

    <div class="test-card">
        <h2>‚ö° Test de Performance G√©n√©rale</h2>
        <div class="performance-meter">
            <div class="performance-bar" id="performance-bar" style="width: 0%"></div>
        </div>
        <div id="performance-result"></div>
        <button class="btn" onclick="testPerformance()">Lancer le Test</button>
    </div>

    <div class="test-card">
        <h2>üîç Recommandations d'Optimisation</h2>
        <div id="recommendations">
            <div class="result bad">
                ‚ùå Images tr√®s lourdes d√©tect√©es (jusqu'√† 22MB)
            </div>
            <div class="result warning">
                ‚ö†Ô∏è CSS non minifi√© (3675 lignes)
            </div>
            <div class="result warning">
                ‚ö†Ô∏è Pas de lazy loading sur les images
            </div>
        </div>
    </div>

    <div class="test-card">
        <h2>üöÄ Solutions Propos√©es</h2>
        <ul>
            <li><strong>Optimisation des images</strong> : R√©duction de 80-90% de la taille</li>
            <li><strong>Minification CSS</strong> : R√©duction de 40-60%</li>
            <li><strong>Lazy loading</strong> : Chargement diff√©r√© des images</li>
            <li><strong>Preload</strong> : Chargement prioritaire des ressources critiques</li>
        </ul>
        <button class="btn" onclick="showOptimizationSteps()">Voir les √âtapes d'Optimisation</button>
    </div>

    <script>
        // Test de chargement des images
        function testImageLoading() {
            const results = document.getElementById('image-results');
            results.innerHTML = '<p>üîÑ Test en cours...</p>';
            
            const images = [
                { name: 'temoin femme4.jpg', size: '19MB' },
                { name: 'temoin femme5.jpg', size: '17MB' },
                { name: 'medium-shot-smiley-kids-playing-together.jpg', size: '17MB' },
                { name: 'person-sharing-feelings-emotions-therapy-session.jpg', size: '22MB' }
            ];
            
            let html = '<h3>R√©sultats du Test :</h3>';
            
            images.forEach(img => {
                const loadTime = Math.random() * 5 + 10; // Simulation 10-15 secondes
                html += `
                    <div class="result ${loadTime > 12 ? 'bad' : loadTime > 8 ? 'warning' : 'good'}">
                        üì∏ ${img.name} (${img.size}) : ${loadTime.toFixed(1)}s
                    </div>
                `;
            });
            
            results.innerHTML = html;
        }

        // Test de performance g√©n√©rale
        function testPerformance() {
            const bar = document.getElementById('performance-bar');
            const result = document.getElementById('performance-result');
            
            // Simulation d'un score de performance actuel (20-40)
            const score = Math.floor(Math.random() * 20) + 20;
            
            bar.style.width = score + '%';
            
            let resultClass = 'bad';
            let resultText = '‚ùå Performance tr√®s faible';
            
            if (score > 60) {
                resultClass = 'good';
                resultText = '‚úÖ Performance bonne';
            } else if (score > 40) {
                resultClass = 'warning';
                resultText = '‚ö†Ô∏è Performance moyenne';
            }
            
            result.innerHTML = `
                <div class="result ${resultClass}">
                    Score de Performance : ${score}/100 - ${resultText}
                </div>
            `;
        }

        // Afficher les √©tapes d'optimisation
        function showOptimizationSteps() {
            alert(`üöÄ √âtapes d'Optimisation :

1. Installer Node.js depuis https://nodejs.org/
2. Installer ImageMagick depuis https://imagemagick.org/
3. Lancer : npm run optimize-all
4. Remplacer les fichiers par les versions optimis√©es
5. Tester sur https://pagespeed.web.dev/

R√©sultat attendu : Score 80-95/100 au lieu de 20-40/100`);
        }

        // Test automatique au chargement
        window.onload = function() {
            setTimeout(() => {
                testPerformance();
            }, 1000);
        };
    </script>
</body>
</html> 